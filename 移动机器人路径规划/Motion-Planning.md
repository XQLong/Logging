# 移动机器人路径规划
## 1.路径规划及其基本流程


### 1.1路径规划概念

- 应用场景

身边的路径规划应用实例：

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/1563027343428-1563027343433.png)

</div>

例如无人机避障，各种地图导航和打车软件，物流调度系统，自动驾驶技术里面都应用到了路径规划。

路径规划是机器人研究和核心内容之一，在很多领域都有广泛的应用，如室内服务机器人的自主运动；无人机的避障突防飞行；物流管理中的车辆问题及类似的资源管理、资源配置问题。


- 机器人移动路径规划

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/1562989495555-1562989495562.png)

</div>

机器人移动的环境包括自由空间和障碍物占据的空间。移动机器人的路径规划便是要找到将机器人从开始位置到目标位置的连续路径，其中开始位置和目标位置必须位于机器人运动环境中的自由空间中。在路径规划中，移动系统使用已知的环境地图，该地图存储在机器人的存储器中。


### 1.2环境感知

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/1563028348096-1563028348100.png)

</div>

机器人用自身携带的传感器感知环境，对环境形成两类信息，一类是静态的长期信息反映环境中静态障碍物的分布，另一类是动态的短期信息反映环境中动态障碍物的分布。

### 1.3环境建模

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/1563017918277-1563017918284.png)

</div>

环境建模是为机器人的运行建立一个数学模型，有了环境地图信息，机器人就能实现目标识别、自定位、路径规划等动作。现实条件下机器人所处的环境是三维的，但是在机器人进行信息获取后，通过对环境的识别将三维环境内化为一个二维的地图，通过对这个二维地图的操作来对一整块区域实现覆盖的目标。环境又分为已知环境和未知环境：

已知环境：即机器人对即将覆盖的区域环境信息已知，这种情况下机器人不需要实时监控，在规划前就建立好环境模型，机器人直接执行路径搜索算法。已知环境建模主要运用的方法有栅格表示法、可视图法、拓扑图法、模板模型法等。

未知环境：即机器人所处的环境中，没有任何先验信息，如果已知的环境一旦变化，机器人所获取的环境信息也要根据环境的变化而变化，这样机器人在遍历过程中要根据不同环境信息对搜索路径进行规划，以达到最终目标。未知环境下可以通过机器人的传感器边走边建模（对机器人的灵敏度和反应速度要求较高），或者通过SLAM转换为已知环境利用已知环境的方法进行建模。

- 栅格表示法

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/1563021118607-1563021118611.png)

</div>

栅格表示环境地图是一种度量式表示环境的方法，机器人根据地图边界的大小量化成大小与自身等大的多个矩形，然后在所建立的环境地图上通过搜索算法进行路径规划。利用栅格法构建地图模型的步骤：

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/1563019744979-1563019744985.png)
 
</div>

- 可视图法

可视图法是在二维情况下，起点S、障碍物的顶点以及目标点G连接，并确保所有直线段不穿过障碍物，然后得到了一张图，称之为可视图。可视图法中常用的是切线图法和维诺图法：

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/1563021339983-1563021339988.png)

</div>

如图所示，在切线图法中从起点到目标点的连线不穿过障碍物的情况下，形成可视线，所有可视线中一定有一条从起点到目标点最短的路径，通过搜索算法判断确定后由机器人执行。考虑到机器人与障碍物之间的安全距离以及障碍物不规则等方面的因素，可先将障碍物进行矩形膨胀处理，再选取可视点和作可视线。

对于多角形状或者凹凸起伏较大的障碍物来说，如果矩形化可能造成造成障碍物区域的冗余，利用圆滑的曲线将障碍物完全包裹在一个封闭的图形中，封闭曲线的形状按照障碍物大体形状进行扩展，然后将所有的封闭曲线图形链接起来，其中相邻障碍物之间如果有相邻的边可以共用一条曲线，这样整体便形成一个维诺图:

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/1563022741114-1563022741124.png)

</div>

### 1.4算法搜寻

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/14/1563069336804-1563069336809.png)

</div>

如上图所示，根据特定任务要求，路径规划通常分为点到点方式和全覆盖方式。

- 点到点的路径规划是指已知两点的情况下，在两点间寻找最优（如代价最小、路径最短、时间最短）路径。点到点包括对全局进行规划和对局部进行规划。全局路径规划注重寻求最优解，局部路径规划注重
- 全覆盖路径规划是指规划一条可行而且尽可能短的路径，使机器人在避开障碍物的同时又能使运行轨迹充满一整块区域。即控制移动机器人能够遍历工作区域中所有可达点，同时能保证自动避开障碍物。

### 1.5执行算法

<div align="center">	

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/15630254076961563025407700.png)	

</div>

通过以上步骤环境感知、环境建模、算法搜寻三个过程后，最后移动机器人执行系统执行该条路线，使机器人无碰撞的到达目标点。

## 2.A*算法

A*算法是结合了两种算法优势提出的一种启发式搜索算法。它利用启发信息来引导搜索方向，从而减小搜索范围，提高搜索效率。

A*算法作为经典算法，以其实用性至今被广泛应用，并且针对不同的应用场景具有很强的扩展性和适应性。

### 2.1Dijkstra算法

迪杰斯特拉算法采用的是一种贪心的策略，声明一个==数组dis==来保存源点到各个顶点的最短距离和一个保存已经找到了最短路径的顶点的==集合：T==。

<div align = "center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/img/2019/07/13/1562978599408-1562978599414.png)

</div>

是典型的广度优先算法，优点在于总可以找到最优化路径；但是搜索效率低，难以满足快速规划路径的需求。

### 2.2最佳优先算法（Best-First-Search）

与DijKstra算法最大的差异是，该算法以与目标节点之间的距离作为评估，这种算法能够快速引导向目标节点搜索，大幅度提高算法搜索效率；但是往往不能获取和李的最短路径。

### 2.3A*算法


### 2.4其他算法

继A*算法之后，还有诸多新算法的提出，如D*算法（又称动态A*算法），该算法遇到动态环境时无需重新规划，但是针对环境复杂的发区域地图，存储量会激增，且动态障碍频繁出现时任需要重新规划。还有诸多智能生物算法，如遗传算法模拟进化论观点，执行效率较高；缺点在于占用内存空间大，个体编码方式和初始种群的确定难度高。









# 介绍一下如何实现动态代理?

代理模式属于一种结构型（描述如何将类或对象结合在一起形成更大的结构）的设计模式，在某些情况下客户端不想或不能直接引用一个对象，此时使用代理来控制对原对象的引用，代理对象在客户端和目标对象之间起到中介的作用。

- 静态代理需要为现有的每一个主题类编写一个对应的代理类，代理类是在编译时就实现好的；
- 而动态代理则是在运行时自动生成的，即Java编译完之后并没有实际的class文件，而是在运行时动态生成的类字节码，并加载到JVM中。

Java实现动态代理的大致步骤如下：

1. 定义一个委托类和公共接口；
2. 定义一个调用处理器类实现Invocation接口，这个类的目的是指定运行时将生成的代理类需要完成的具体任务（包括Preprocess和Postprocess），即代理类调用任何方法都会经过这个调用处理器类；
3. 生成代理对象，需要为它指定：（1）委托对象；（2）实现的一系列接口；（3）调用处理器类的示例。

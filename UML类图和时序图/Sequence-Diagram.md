# 时序图

时序图（Sequence Diagram）也称序列图或顺序图，是一种UML交互图，是显示对象之间交互的图，这些对象是按时间顺序排列的。时序图中显示的是参与交互的对象及对象消息交互的顺序。

在UML中，时序图将交互关系表示为一个二维图。图的横轴是对象轴，交互的对象或角色排列在横轴上。纵轴是时间轴，时间沿垂直向下延申，交互的消息按时间从上往下排列。

在软件系统中的各个生命周期阶段，时序图可供不同的用户使用，以帮助他们进一步地了解系统。对于用户来讲，时序图可以帮助他们进一步了解业务细节。对于分析人员来讲，时序图可以帮助他们进一步明确事件处理的流程。对于开发人员来讲，时序图可以帮助他们进一步了解需要开发的对象和对这些对象的操作。对于测试人员来讲，时序图可以帮助他们设计测试用例。

## 时序图的基本元素
时序图包括的建模元素主要有：对象（Actor）、生命线（Lifeline）、控制焦点（Focus of control）、消息（Message）等等。

### 1、对象

对象表示时序图中的参与者。指系统中存在消息交互的元素，可以是类对象、参与者、组建。

<div align="center">

![SequenceObject](https://raw.githubusercontent.com/XQLong/Logging/master/gitnote/2019/07/09/1562676245667-1562676245674.png)

</div>

如图所示，每一个对象都有一个对象名，以便唯一标识一个对象。可使用三种格式对其进行描述：

- 包含对象名和类名，中间用冒号隔开，“对象名：类名”；
- 只有类名没有对象名的匿名形式，“：类名”（冒号不能省略）；
- 只有对象名，即“对象名”。

### 2、生命线

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/gitnote/2019/07/09/1562678953763-1562678953770.png)

</div>

生命线是一条垂直的虚线，生命线往往与对象结合在一起，即称为对象的生命线。表示对象在一段时间内存在。生命线是一条时间线，从顺序图的顶部一直向下延申，所用时间取决于交互持续的时间，也就是说生命线表现了对象存在的时间段。

### 3、焦点控制

焦点控制也称激活期，表示对象执行相应操作的时间段。在UML图中，激活期使用位于对象生命线上的小矩形表示，这个小矩形也被称为激活条。

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/gitnote/2019/07/09/1562680000362-1562680000368.png)

</div>

激活条的长度表示对象被激活（即执行操作）的持续时间，但只是粗略地表示时间的长短，并没有精确地、定量地描述时间的长短。

### 4、消息

消息是实现对象之间的通信的规约。它可以是信息的传递，也可以是操作的调用。也就是说，消息是从一个发送对象向另一个或多个接收对象发送信号，或者由一个调用对象调用另一个或多个被调用对象的操作。

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/gitnote/2019/07/09/1562680522391-1562680522397.png)

</div>

在时序图中，使用从一条生命线到另一条生命线的箭头来表示消息。消息在图中生命线的上下位置决定了它的传递时间的先后顺序。消息可以用消息名及参数来进行标识，也可以不带参数，消息可以带有顺序编号，编号也体现了消息的时间先后顺序。

在时序图中，通过不同的图标可以标识不同的消息特征。这些特征主要包括异步、同步、返回、自身等：

<div align="center">

![title](https://raw.githubusercontent.com/XQLong/Logging/master/gitnote/2019/07/09/1562682483964-1562682483969.png)

</div>

- 异步消息：发送对象不考虑接收对象是否做好了接收准备都可以发送消息的消息称为异步消息。发送对象发送完消息后，继续自己的活动，不会等待接收对象的消息返回。在时序图中使用带开叉箭头的实线表示，箭头从发送对象指向接收对象。如上图中的message1就是异步消息。
- 同步消息：当发送对象需要发送一个消息时，需要接收对象已经做好接收准备时才能发送的消息称为同步消息。同步消息最常见的情况就是调用。即发送对象在执行某个操作时调用接收对象的一个操作。在时序图中使用带实心箭头的实线表示，箭头从发送对象指向接收对象。如上图所示message4即为同步消息。
- 返回消息：接收对象给发送对象返回的消息。在时序图中，使用

